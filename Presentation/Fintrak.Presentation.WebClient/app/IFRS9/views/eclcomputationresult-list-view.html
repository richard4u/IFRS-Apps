

<div class="main-content">
    <div class="widget widget-table">
        <div class="widget-header">
            <h3><i class="fa fa-table"></i> {{vm.viewName}}</h3>
        </div>
        <div class="widget-content">
            <div class="alert alert-info fade in" data-ng-show="vm.showInstruction">
                <button class="close" data-dismiss="alert">&times;</button>
                <i class="fa fa-info-circle"></i> {{vm.instruction}}
            </div>
            <div class="row">
                <div class="col-md-7">
                    <label for="" class="control-label">Select Loan Stage :</label>
                    <select class="input-sm" ng-change="vm.loadByStage()" ng-model="vm.stage" ng-options="stage.Id as stage.Name for stage in vm.stages" style="width:150px;">
                        <!--<option value="" ng-disabled="true" selected>--Select Category--</option>-->
                    </select>
                    <div type="button" class="btn btn-success btn-sm" ng-click="vm.exportAllData()">Export</div>
                    <div type="button" class="btn btn-success btn-sm" ng-click="vm.exportAllData('split ')">Split then Export</div>
                </div>
            </div>

            <!--<br />-->

            <table id="eclComputationResultTable" class="table table-hover table-striped table-bordered table-advanced tablesorter display datatable">

                <thead>
                    <tr>
                        <th>Refno</th>
                        <th>CustomerName</th>
                        <th>date_pmt</th>
                        <th>YTM</th>
                        <th>Code</th>
                        <th>FacilityType</th>
                        <th>Stage</th>
                        <th>Seq</th>
                        <th>AmortizedCost</th>
                        <th>Currency</th>
                        <th>Exchange</th>
                        <th>LifetimePD</th>
                        <th>DiscountFactor</th>
                        <th>DiscountedCollateralValue</th>
                        <th>LGD</th>
                        <th>Sector</th>
                        <th>CollateralStatus</th>
                        <th>UnAdjusted ECL</th>
                        <th>MacroBest</th>
                        <th>ECLBest</th>
                        <th>MacroOptimistic</th>
                        <th>ECLOptimistic</th>
                        <th>MacroDownTurn</th>
                        <th>ECLDownTurn</th>
                        <th>Prob.Weighted.ECL</th>
                        <th>Rundate</th>

                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="eclComputationResult in vm.eclComputationResults">
                        <td>
                            {{ eclComputationResult.Refno }}
                        </td>
                        <td>
                            {{ eclComputationResult.CustomerName }}
                        </td>
                        <td>
                            {{ eclComputationResult.date_pmt | date:'dd-MM-yyyy'}}
                        </td>
                        <td>
                            {{ eclComputationResult.YTM}}
                        </td>
                        <td>
                            {{ eclComputationResult.Code}}
                        </td>
                        <td>
                            {{ eclComputationResult.FacilityType}}
                        </td>
                        <td>
                            {{ eclComputationResult.Stage }}
                        </td>
                        <td>
                            {{ eclComputationResult.Seq }}
                        </td>
                        <td>
                            {{ eclComputationResult.AmortizedCost | number}}
                        </td>
                        <td>
                            {{ eclComputationResult.Currency}}
                        </td>
                        <td>
                            {{ eclComputationResult.Exchange}}
                        </td>
                        <td>
                            {{ eclComputationResult.LifetimePD}}
                        </td>
                        <td>
                            {{ eclComputationResult.DiscountFactor }}
                        </td>
                        <td>
                            {{ eclComputationResult.DiscountedCollateralValue }}
                        </td>
                        <td>
                            {{ eclComputationResult.LGD }}
                        </td>
                        <td>
                            {{ eclComputationResult.Sector}}
                        </td>
                        <td>
                            {{ eclComputationResult.CollateralStatus}}
                        </td>
                        <td>
                            {{ eclComputationResult.ECLOutput | number}}
                        </td>
                        <td>
                            {{ eclComputationResult.MEcoECLBest | number}}
                        </td>
                        <td>
                            {{ eclComputationResult.FinalECLBest | number}}
                        </td>
                        <td>
                            {{ eclComputationResult.MEcoECLOptimistic | number}}
                        </td>
                        <td>
                            {{ eclComputationResult.FinalECLOptimistic | number}}
                        </td>
                        <td>
                            {{ eclComputationResult.MEcoECLDownTurn | number}}
                        </td>
                        <td>
                            {{ eclComputationResult.FinalECLDownTurn | number}}
                        </td>
                        <td>
                            {{ eclComputationResult.FinalECLWeightAvg | number}}
                        </td>

                        <td>
                            {{ eclComputationResult.Rundate | date:'dd-MM-yyyy'}}
                        </td>

                    </tr>
                </tbody>
            </table>

        </div>
    </div>
</div>
