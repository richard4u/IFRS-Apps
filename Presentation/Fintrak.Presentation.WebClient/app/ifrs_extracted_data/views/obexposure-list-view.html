

<div class="main-content">
    <div class="widget widget-table">
        <div class="widget-header">
            <h3><i class="fa fa-table"></i> {{vm.viewName}}</h3>
        </div>
        <div class="widget-content">
            <div class="alert alert-info fade in" data-ng-show="vm.showInstruction">
                <button class="close" data-dismiss="alert">&times;</button>
                <i class="fa fa-info-circle"></i> {{vm.instruction}}
            </div>


            <ul class="nav nav-tabs nav-tabs-custom-colored" role="tablist">
                <li class="active" ng-click="vm.loadBG()"><a href="#bg" role="tab" data-toggle="tab">Bonds & Guarantees</a></li>
                <li ng-click="vm.loadLC()"><a href="#lc" role="tab" data-toggle="tab">Letter of Credit</a></li>
                <li ng-click="vm.loadOD()"><a href="#od" role="tab" data-toggle="tab">Overdraft</a></li>
            </ul>

            <div class="tab-content">
                <div class="tab-pane fade in active" id="bg">

                    <div class="row">
                        <div class="col-md-12">
                            <form>
                                <a class="btn btn-info btn-sm" data-ui-sref="ifrs-obexposure-edit({flag:1, obeId:0})"> Add New BG</a>&nbsp;&nbsp;&nbsp;
                                <label for="" class="control-label">Main Search: </label>
                                <input type="text" class="input-sm" placeholder="Enter Reference Numbers" ng-model="vm.searchParam" style="width:300px" />
                                <button type="button" class="btn btn-default btn-sm" ng-click="vm.loadOBEBySearch(1, 'bgTable')">Search</button>
                                <button type="button" class="btn btn-info btn-sm" ng-click="vm.refresh()">Refresh</button>
                                <!--<a href="Home/LoadExcelrevenue" target="_blank">Export</a>-->
                                <div type="button" class="btn btn-success btn-sm" ng-click="vm.exportAllData()">Export</div>
                            </form>
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-md-5">
                            <form ng-submit="vm.goToPage(vm.currentPage)">
                                <div>
                                    <button type="button" ng-disabled="vm.currentPage <= 1" class="btn btn-info btn-xs" ng-click="vm.goToPage('prev')">Prev</button>
                                    &nbsp;
                                    <input type="text" class="input-sm" data-ng-model="vm.currentPage" style="width:100px" /> of {{vm.totalPages}} page(s)
                                    &nbsp;
                                    <button type="button" ng-disabled="vm.currentPage >= vm.totalPages" class="btn btn-info btn-xs" ng-click="vm.goToPage('next')">Next</button>
                                </div>
                            </form>
                        </div>
                        <div class="col-md-5">
                            <div>Displaying {{(vm.lastRecordPrevPage + 1)}} to {{(vm.lastRecordPrevPage + vm.displayedRows)}} of {{vm.totalRecords}} records</div>
                        </div>
                        <div class="col-md-2">
                            <form ng-submit="vm.resizePage()">
                                <input type="text" class="input-sm" data-ng-model="vm.pageSize" style="width:50px" /> items/page
                            </form>
                        </div>
                    </div>

                    <br />

                    <table id="bgTable" class="table table-hover table-striped table-bordered table-advanced tablesorter display datatable">

                        <thead>
                            <tr>
                                <th style="width: 10%;">Action</th>
                                <th style="width: 10%">Account Number</th>
                                <th>Customer Name</th>
                                <th>OBE Type</th>
                                <th>Mapped OBE Type</th>
                                <th>Effective Date</th>
                                <th>Maturity Date</th>
                                <th>Currency</th>
                                <th>Exchange Rate</th>
                                <th>Amount</th>
                                <th>HC 1</th>
                                <th>HC 2</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="obexposures in vm.obexposures">
                                <td>
                                    <a class="btn btn-orange btn-xs" data-ui-sref="ifrs-obexposure-edit({flag:1, obeId:obexposures.obe_Id})">
                                        Edit
                                    </a>
                                </td>
                                <td>
                                    {{ obexposures.Refno}}
                                </td>
                                <td>
                                    {{ obexposures.CustomerName}}
                                </td>
                                <td>
                                    {{ obexposures.OBE_Type}}
                                </td>
                                <td>
                                    {{ obexposures.Mapped_OBE_Type}}
                                </td>
                                <td>
                                    {{ obexposures.ValueDate | date}}
                                </td>
                                <td>
                                    {{ obexposures.MaturityDate | date}}
                                </td>
                                <td>
                                    {{ obexposures.Currency | date}}
                                </td>
                                <td>
                                    {{ obexposures.Rate | currency :"":0}}
                                </td>
                                <td>
                                    {{ obexposures.Amount | currency :"":0}}
                                </td>
                                <td>
                                    {{ obexposures.ProductType}}
                                </td>
                                <td>
                                    {{ obexposures.SubType}}
                                </td>
                            </tr>
                        </tbody>
                    </table>

                </div>

                <div class="tab-pane fade" id="lc">
                    <div class="row">
                        <div class="col-md-12">
                            <form>
                                <a class="btn btn-info btn-sm" data-ui-sref="ifrs-obexposure-edit({flag:2, obeId:0})"> Add New LC</a>&nbsp;&nbsp;&nbsp;
                                <label for="" class="control-label">Main Search: </label>
                                <input type="text" class="input-sm" placeholder="Enter Reference Number" ng-model="vm.searchParam" style="width:300px" />
                                <button type="button" class="btn btn-default btn-sm" ng-click="vm.loadOBEBySearch(2, 'lcTable')">Search</button>
                                <button type="button" class="btn btn-info btn-sm" ng-click="vm.refresh()">Refresh</button>
                                <!--<a href="Home/LoadExcelrevenue" target="_blank">Export</a>-->
                                <div type="button" class="btn btn-success btn-sm" ng-click="vm.exportAllData()">Export</div>
                            </form>
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-md-5">
                            <form ng-submit="vm.goToPage(vm.currentPage)">
                                <div>
                                    <button type="button" ng-disabled="vm.currentPage <= 1" class="btn btn-info btn-xs" ng-click="vm.goToPage('prev')">Prev</button>
                                    &nbsp;
                                    <input type="text" class="input-sm" data-ng-model="vm.currentPage" style="width:100px" /> of {{vm.totalPages}} page(s)
                                    &nbsp;
                                    <button type="button" ng-disabled="vm.currentPage >= vm.totalPages" class="btn btn-info btn-xs" ng-click="vm.goToPage('next')">Next</button>
                                </div>
                            </form>
                        </div>
                        <div class="col-md-5">
                            <div>Displaying {{(vm.lastRecordPrevPage + 1)}} to {{(vm.lastRecordPrevPage + vm.displayedRows)}} of {{vm.totalRecords}} records</div>
                        </div>
                        <div class="col-md-2">
                            <form ng-submit="vm.resizePage()">
                                <input type="text" class="input-sm" data-ng-model="vm.pageSize" style="width:50px" /> items/page
                            </form>
                        </div>
                    </div>

                    <br />

                    <table id="lcTable" class="table table-hover table-striped table-bordered table-advanced tablesorter display datatable">

                        <thead>
                            <tr>
                                <th style="width: 10%;">Action</th>
                                <th style="width: 10%">Account Number</th>
                                <th>Customer Name</th>
                                <th>OBE Type</th>
                                <th>Mapped OBE Type</th>
                                <th>Effective Date</th>
                                <th>Maturity Date</th>
                                <th>Currency</th>
                                <th>Exchange Rate</th>
                                <th>Amount</th>
                                <th>HC 1</th>
                                <th>HC 2</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="obexposures in vm.obexposures">
                                <td>
                                    <a class="btn btn-orange btn-xs" data-ui-sref="ifrs-obexposure-edit({flag:2, obeId:obexposures.obe_Id})">
                                        Edit
                                    </a>
                                </td>
                                <td>
                                    {{ obexposures.Refno}}
                                </td>
                                <td>
                                    {{ obexposures.CustomerName}}
                                </td>
                                <td>
                                    {{ obexposures.OBE_Type}}
                                </td>
                                <td>
                                    {{ obexposures.Mapped_OBE_Type}}
                                </td>
                                <td>
                                    {{ obexposures.ValueDate | date}}
                                </td>
                                <td>
                                    {{ obexposures.MaturityDate | date}}
                                </td>
                                <td>
                                    {{ obexposures.Currency | date}}
                                </td>
                                <td>
                                    {{ obexposures.Rate | currency :"":0}}
                                </td>
                                <td>
                                    {{ obexposures.Amount | currency :"":0}}
                                </td>
                                <td>
                                    {{ obexposures.ProductType}}
                                </td>
                                <td>
                                    {{ obexposures.SubType}}
                                </td>
                            </tr>
                        </tbody>

                    </table>

                </div>

                <div class="tab-pane fade" id="od">
                    <div class="row">
                        <div class="col-md-12">
                            <form>
                                <a class="btn btn-info btn-sm" data-ui-sref="ifrs-obexposure-edit({flag:3, obeId:0})"> Add New OD</a>&nbsp;&nbsp;&nbsp;
                                <label for="" class="control-label">Main Search: </label>
                                <input type="text" class="input-sm" placeholder="Enter Reference Number" ng-model="vm.searchParam" style="width:300px" />
                                <button type="button" class="btn btn-default btn-sm" ng-click="vm.loadOBEBySearch(3, 'odTable')">Search</button>
                                <button type="button" class="btn btn-info btn-sm" ng-click="vm.refresh()">Refresh</button>
                                <!--<a href="Home/LoadExcelrevenue" target="_blank">Export</a>-->
                                <div type="button" class="btn btn-success btn-sm" ng-click="vm.exportAllData()">Export</div>
                            </form>
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-md-5">
                            <form ng-submit="vm.goToPage(vm.currentPage)">
                                <div>
                                    <button type="button" ng-disabled="vm.currentPage <= 1" class="btn btn-info btn-xs" ng-click="vm.goToPage('prev')">Prev</button>
                                    &nbsp;
                                    <input type="text" class="input-sm" data-ng-model="vm.currentPage" style="width:100px" /> of {{vm.totalPages}} page(s)
                                    &nbsp;
                                    <button type="button" ng-disabled="vm.currentPage >= vm.totalPages" class="btn btn-info btn-xs" ng-click="vm.goToPage('next')">Next</button>
                                </div>
                            </form>
                        </div>
                        <div class="col-md-5">
                            <div>Displaying {{(vm.lastRecordPrevPage + 1)}} to {{(vm.lastRecordPrevPage + vm.displayedRows)}} of {{vm.totalRecords}} records</div>
                        </div>
                        <div class="col-md-2">
                            <form ng-submit="vm.resizePage()">
                                <input type="text" class="input-sm" data-ng-model="vm.pageSize" style="width:50px" /> items/page
                            </form>
                        </div>
                    </div>

                    <br />

                    <table id="odTable" class="table table-hover table-striped table-bordered table-advanced tablesorter display datatable">

                        <thead>
                            <tr>
                                <th style="width: 10%;">Action</th>
                                <th style="width: 10%">Account Number</th>
                                <th>Customer Name</th>
                                <!--<th>OBE Type</th>-->
                                <!--<th>Mapped OBE Type</th>-->
                                <th>Effective Date</th>
                                <th>Maturity Date</th>
                                <th>Currency</th>
                                <th>Exchange Rate</th>
                                <th>OD Amount</th>
                                <th>HC 1</th>
                                <th>HC 2</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="obexposures in vm.obexposures">
                                <td>
                                    <a class="btn btn-orange btn-xs" data-ui-sref="ifrs-obexposure-edit({flag:3, obeId:obexposures.obe_Id})">
                                        Edit
                                    </a>
                                </td>
                                <td>
                                    {{ obexposures.Refno}}
                                </td>
                                <td>
                                    {{ obexposures.CustomerName}}
                                </td>
                                <!-- <td>
                                    {{ obexposures.OBE_Type}}
                                </td>
                                <td>
                                    {{ obexposures.Mapped_OBE_Type}}
                                </td>-->
                                <td>
                                    {{ obexposures.ValueDate | date}}
                                </td>
                                <td>
                                    {{ obexposures.MaturityDate | date}}
                                </td>
                                <td>
                                    {{ obexposures.Currency | date}}
                                </td>
                                <td>
                                    {{ obexposures.Rate | currency :"":0}}
                                </td>
                                <td>
                                    {{ obexposures.Amount | currency :"":0}}
                                </td>
                                <td>
                                    {{ obexposures.ProductType}}
                                </td>
                                <td>
                                    {{ obexposures.SubType}}
                                </td>
                            </tr>
                        </tbody>

                    </table>

                </div>
            </div>


        </div>
    </div>
</div>
